### aiChat 메모리(대화 기억) 테스트 (로그인→쿠키→채팅 2회)
# 이 프로젝트의 JWT 인증은 Authorization 헤더가 아니라 "accessToken" 쿠키로 동작합니다.
# 따라서 1) /api/v1/members/login 으로 로그인해서 쿠키를 받은 뒤
# 2) 같은 http-client 세션에서 chat 요청을 연속 호출해야 메모리가 이어집니다.

@host = http://localhost:8080
@objectId = 2

# 로그인 파라미터 (실제 DB에 존재하는 값으로 수정)
@institutionId = 1
@verificationCode = 123456

### 0) 로그인: accessToken 쿠키 발급
POST {{host}}/api/v1/members/login
Content-Type: application/json

{
  "institutionId": "{{institutionId}}",
  "verificationCode": "{{verificationCode}}"
}

### 1) 첫 대화: "안녕 나는 JAVA를 사용하는 개발자야"
POST {{host}}/api/v1/chat/{{objectId}}
Content-Type: application/json

{
  "userMessage": "안녕 나는 JAVA를 사용하는 개발자야 내이름은 김영욱이야",
  "viewState": {}
}

### 2) 두 번째 대화(메모리 확인): "나는 무슨 개발자야?"
# 기대: 응답 JSON의 aiMessage에 "JAVA" 또는 "자바" 개발자 언급이 포함
POST {{host}}/api/v1/chat/{{objectId}}
Content-Type: application/json

{
  "userMessage": "나는 무슨 개발자야?",
  "viewState": {}
}

### 3) 세 번째 대화(메모리 초기화 후 확인): "내 이름은 뭐야?"
# 기대: 응답 JSON의 aiMessage에 이름 관련 언급
POST {{host}}/api/v1/chat/{{objectId}}
Content-Type: application/json

{
  "userMessage": "내 이름은 뭐야?",
  "viewState": {}
}

### 4) 네 번째 대화(메모리 초기화 후 확인): "내가 사는 곳은 어디야?"
# 기대: 응답 JSON의 aiMessage에 이름 관련 언급
POST {{host}}/api/v1/chat/{{objectId}}
Content-Type: application/json

{
  "userMessage": "내가 사는곳은 어디야? 모르면 모른다고해",
  "viewState": {}
}